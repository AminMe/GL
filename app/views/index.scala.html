@(pageTitle: String)


@scripts = {
    <script>
            $(document).ready(function() {
                $('.liclickable').click(function (e) {
                    e.preventDefault();
                    var self = $(this),
                            controler = self.data('infos') || self.attr('data-infos');
                    $("#sidebar ul li").removeClass('active');
                    $(this).addClass('active');

                    eval("jsRoutes.controllers."+controler).ajax({
                        success: function(html) {
                            if(controler.substring(0,15) === 'AdminController'){
                                var navBarTop = document.getElementById('navBarTop');
                                $(navBarTop).addClass('navbar-fixed-top-admin');
                                var menuButton = document.getElementById('menuButton');
                                $(menuButton).addClass('btn-danger');
                                var navHeader = document.getElementById('nav-header');
                                $(navHeader).addClass('nav-header-admin');

                            }else{
                                var navBarTop = document.getElementById('navBarTop');
                                $(navBarTop).removeClass('navbar-fixed-top-admin');
                                var menuButton = document.getElementById('menuButton');
                                $(menuButton).removeClass('btn-danger');
                                var navHeader = document.getElementById('nav-header');
                                $(navHeader).removeClass('nav-header-admin');
                            }
                            var result = $('#refresh',html);
                            $('#refresh').empty().html(result);
                            var result = $('#refresh',html).html();
                            $('#refresh').empty().html(result)
                        },
                        //Case we have a problem
                        error: function(errorMessage){
                            alert(errorMessage);
                        }
                    });
                });
            });

            var getElementsByAttribute = function (attr, value) {
                var match = [];
                var elements = document.getElementsByTagName("*");

                for (var ii = 0, ln = elements.length; ii < ln; ii++) {
                    if (elements[ii].hasAttribute(attr)) {
                        if (value) {
                            if (elements[ii].getAttribute(attr) === value) {
                                match.push(elements[ii]);
                            }
                        } else {
                            /* Else, simply push it */
                            match.push(elements[ii]);
                        }
                    }
                }
                return match;
            };

            /* Afficher les clients archivés */
            function clientsArchived(){
                // console.log("TEST checkbox");
                if($("#checkBoxClientsArchived").is(":checked")) {
                    // checkbox is checked
                    var table = document.getElementById("clientsTable");
                    $(table).find('tbody')
                            .append($('<tr>').attr('data-toggle','modal').attr('data-target','#myModal').attr('class','archived')
                                    .append($('<td>').text('ArchivedName'))
                                    .append($('<td>').text('ArchivedAdress'))
                                    .append($('<td>').text('ArchivedNbContacts'))
                                    .append($('<td>').text('ArchivedNbProjects'))
                                    .append($('<td>').text('ArchivedNbTasks'))
                                    .append($('<td>').text('ArchivedPriority'))
                                    .append($('<td>').append($('<i>').attr('class','fa fa-times-circle'))));

                    //console.log("CHECKED");
                } else {
                    // checkbox is not checked
                    //console.log("NOT CHECKED");
                    $('.archived').hide();
                }
            }
    </script>
}

@content = {
    <div id="wrapper" class="ng-scope">

        @sidebar("")

        <div id="page-wrapper" class="gray-bg dashbard-1">
            @topbar()

            <div id="refresh" >
                <div class="row">
                    <div class="col-lg-12">
                        <div class="ibox float-e-margins">
                            <div class="ibox-content">
                                <form id="form-notif">
                                    <h2>@Messages("notifications") (2)</h2>
                                    <a class="btn btn-white btn-bitbucket"><i class="fa fa-eye"></i></a>
                                    <a class="btn btn-white btn-bitbucket"><i class="fa fa-trash"></i></a>
                                    <table class="footable table table-stripped toggle-arrow-tiny" data-page-size="10">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th>@Messages("from")</th>
                                                <th>@Messages("project")</th>
                                                <th>@Messages("client")</th>
                                                <th>@Messages("object")</th>
                                                <th>@Messages("date")</th>
                                                <th data-hide="all">@Messages("state")</th>
                                                <th data-hide="all">@Messages("message")</th>
                                                <th data-hide="all">@Messages("link")</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr id="notif-1" class="non-lu">
                                                <td>
                                                    <div class="checkbox checkbox-success checkbox-inline">
                                                        <input id="checkbox-notif-1" type="checkbox" onclick="clickOnCheckboxNotification('checkbox-notif-1','notif-1')">
                                                        <label for="checkbox-notif-1"></label>
                                                    </div>
                                                </td>
                                                <td>Organiser une réunion</td>
                                                <td>myProjects</td>
                                                <td>PoPS5I Inc.</td>
                                                <td>Modification des interlocuteurs externes</td>
                                                <td>06/02/2016 (15h15)</td>
                                                <td>@Messages("unread")</td>
                                                <td>
                                                    <p>Nouveau interlocuteur externe : Frédéric Voisin</p>
                                                </td>
                                                <td>
                                                    <p><a href="#">Cliquer ici pour accéder au détail</a></p>
                                                </td>
                                            </tr>
                                            <tr id="notif-2" class="lu">
                                                <td>
                                                    <div class="checkbox checkbox-success checkbox-inline">
                                                        <input id="checkbox-notif-2" type="checkbox" onclick="clickOnCheckboxNotification('checkbox-notif-2','notif-2')">
                                                        <label for="checkbox-notif-2"></label>
                                                    </div>
                                                </td>
                                                <td>Créer une base de données</td>
                                                <td>Big Data</td>
                                                <td>Auchan</td>
                                                <td>Modification de l'avancement</td>
                                                <td>06/02/2016 (14h35)</td>
                                                <td>@Messages("read")</td>
                                                <td>
                                                    <p>Amin a modifié l'avancement de la tâche "Créer une base de données"</p>
                                                    <p>Charge consommée : 10h</p>
                                                    <p>Charge restante : 20h</p>
                                                    <p>Pourcentage d'avancement : 33%</p>
                                                </td>
                                                <td>
                                                    <p><a href="#">Cliquer ici pour accéder au détail</a></p>
                                                </td>
                                            </tr>
                                            <tr id="notif-3" class="non-lu">
                                                <td>
                                                    <div class="checkbox checkbox-success checkbox-inline">
                                                        <input id="checkbox-notif-3" type="checkbox" onclick="clickOnCheckboxNotification('checkbox-notif-3','notif-3')">
                                                        <label for="checkbox-notif-3"></label>
                                                    </div>
                                                </td>
                                                <td>Organiser une réunion</td>
                                                <td>myProjects</td>
                                                <td>PoPS5I Inc.</td>
                                                <td>Modification des interlocuteurs externes</td>
                                                <td>06/02/2016 (15h15)</td>
                                                <td>@Messages("unread")</td>
                                                <td>
                                                    <p>Nouveau interlocuteur externe : Frédéric Voisin</p>
                                                </td>
                                                <td>
                                                    <p><a href="#">Cliquer ici pour accéder au détail</a></p>
                                                </td>
                                            </tr>
                                            <tr id="notif-4" class="lu">
                                                <td>
                                                    <div class="checkbox checkbox-success checkbox-inline">
                                                        <input id="checkbox-notif-4" type="checkbox" onclick="clickOnCheckboxNotification('checkbox-notif-4','notif-4')">
                                                        <label for="checkbox-notif-4"></label>
                                                    </div>
                                                </td>
                                                <td>Créer une base de données</td>
                                                <td>Big Data</td>
                                                <td>Auchan</td>
                                                <td>Modification de l'avancement</td>
                                                <td>06/02/2016 (14h35)</td>
                                                <td>@Messages("read")</td>
                                                <td>
                                                    <p>Amin a modifié l'avancement de la tâche "Créer une base de données"</p>
                                                    <p>Charge consommée : 10h</p>
                                                    <p>Charge restante : 20h</p>
                                                    <p>Pourcentage d'avancement : 33%</p>
                                                </td>
                                                <td>
                                                    <p><a href="#">Cliquer ici pour accéder au détail</a></p>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td colspan="5">
                                                    <ul class="pagination pull-right"></ul>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer">
                <div>
                    <strong>Copyright</strong> Pear Corporation &copy; 2015-2016
                </div>
            </div>

        </div>

            <!-- Partie droite, les settings -->
        <div id="right-sidebar">
            <div class="sidebar-container">
                <div class="changePassword">
                    <form role="form">
                        <div class="form-group previousPassword">
                            <label for="previousPassword">@Messages("previousPassword")</label>
                            <input type="password" id="previousPassword" class="form-control">
                        </div>
                        <div class="form-group newPassword">
                            <label for="newPassword">@Messages("newPassword")</label>
                            <input type="password" id="newPassword" class="form-control">
                        </div>
                        <div class="form-group newPasswordConfirm">
                            <label for="newPasswordConfirm">@Messages("newPasswordConfirm")</label>
                            <input type="password" id="newPasswordConfirm" class="form-control">
                        </div>
                        <div class="validateForm">
                            <button class="btn btn-user btn-block" type="submit" onclick>@Messages("validateForm")  <i class="fa fa-check"></i></button>
                        </div>
                    </form>
                </div>

                <div class="notificationFrom">
                    <p>@Messages("titleNotificationFrom")</p>
                    <div>
                            <!--TODO : auto recherche -->
                        <input type="text" id="searchContact" class="form-control z-index-3"/>
                    </div>

                    <div class="list-personnes-notifiees">
                        <table class="table-bordered">
                            <tbody>
                                <tr>
                                    <td class="first-td">Yasser Rabi - yasser.rabi&commat;gmail.com</td>
                                    <td class="last-td"><i class="fa fa-times-circle"></i></td>
                                </tr>
                                <tr>
                                    <td class="first-td">Yasser Rabi - yasser.rabi&commat;gmail.com</td>
                                    <td class="last-td"><i class="fa fa-times-circle"></i></td>
                                </tr>
                                <tr>
                                    <td class="first-td">Yasser Rabi - yasser.rabi&commat;gmail.com</td>
                                    <td class="last-td"><i class="fa fa-times-circle"></i></td>
                                </tr>
                                <tr>
                                    <td class="first-td">Yasser Rabi - yasser.rabi&commat;gmail.com</td>
                                    <td class="last-td"><i class="fa fa-times-circle"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="notificationSettings">
                    <div class="checkbox checkbox-success checkbox-circle">
                        <input id="checkbox-changes" type="checkbox">
                        <label for="checkbox-changes">
                            @Messages("checkbox-changes")
                        </label>
                    </div>
                    <div class="checkbox checkbox-success checkbox-circle">
                        <input id="checkbox-tasks-almost-finish" type="checkbox" >
                        <label for="checkbox-tasks-almost-finish">
                        @Messages("checkbox-tasks-almost-finish")
                        </label>
                    </div>
                    <div class="checkbox checkbox-success checkbox-circle">
                        <input id="checkbox-tasks-late" type="checkbox" checked>
                        <label for="checkbox-tasks-late">
                        @Messages("checkbox-tasks-late")
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

@main(pageTitle, content, scripts)